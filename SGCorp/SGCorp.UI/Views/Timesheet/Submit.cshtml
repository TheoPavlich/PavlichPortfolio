@using System.Web.Mvc.Html
@model SGCorp.UI.Models.EmployeeTimesheetVM
@{
    ViewBag.Title = "Submit";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Timesheets: Select Employee</h2>

<div class="row">
    <div class="clo=lg-6">
        @using (Html.BeginForm("Submit", "Timesheet", FormMethod.Post))
        {
            <div>
                <label>Select Employee</label>
                @Html.DropDownListFor(m => m.SelectEmployeeId, Model.Employees, new {@class = "form-control"})

                <button class="btn btn-primary" style="margin-top: 10px; margin-bottom: 10px;">
                    Select This Employee
                </button>
            </div>
        }
    </div>

  
    <div class="col-md-6">
        @if (Model.Employee != null)
        { <h3 style="margin-top: 0px">Employee Summary</h3>


            <table class="table">
                <tr>
                    <th scope="row">First Name:</th>
                    <td>@Model.Employee.FirstName</td>

                </tr>
                <tr>
                    <th scope="row">Last Name:</th>
                    <td>@Model.Employee.LastName</td>

                </tr>

                <tr>
                    <th scope="row">Hire Date:</th>
                    <td>@Model.Employee.HireDate</td>

                </tr>
                <tr>
                    <th scope="row">Total Hours:</th>
                    <td>@Model.Employee.HoursSum</td>

                </tr>
            </table>
            @*<table>
                    <thead>
                        <tr>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Hire Date</th>
                            <th>Total Hours Worked</th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr>
                            <td>@Model.employee.FirstName</td>
                            <td>@Model.employee.LastName</td>
                            <td>@Model.employee.HireDate</td>
                            <td>@Model.employee.TotalHoursWorked</td>
                        </tr>
                    </tbody>

                </table>*@
        }
        }
    </div>
</div>



<div>
    @if (Model.TimesheetList != null)
    {
        <table class="table" style="margin-top: 30px">
            <thead>
            <tr>

                <th>Date</th>
                <th>Hours Worked</th>
            </tr>
            </thead>
            <tbody>
            @foreach (var timeEntry in Model.TimesheetList)
            {
                <tr>
                    <td>@timeEntry.Date</td>
                    <td>@timeEntry.Hours</td>
                    <td>
                        <form action="/Home/DeleteTimeEntry" method="Post">
                            <input type="hidden" name="TimeEntryID" id="TimeEntryID" value="@timeEntry.TimeId"/>
                            <input type="hidden" name="SelectedEmployeeID" id="SelectedEmployeeID" value="@Model.Employee.EmpId"/>
                            <button>Delete</button>
                        </form>
                    </td>

                </tr>
            }
            </tbody>

        </table>
    }</div>
</div>
